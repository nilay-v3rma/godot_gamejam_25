[gd_scene load_steps=25 format=3 uid="uid://cg7ut2wo8cenf"]

[ext_resource type="Texture2D" uid="uid://cub36ieoka36c" path="res://rooms/level.png" id="1_0dt1f"]
[ext_resource type="Texture2D" uid="uid://v1rews1v410a" path="res://gui/cardview/cardview.png" id="2_dg3qb"]
[ext_resource type="PackedScene" uid="uid://cw6rlsf0pg15r" path="res://gui/cardslot/cardslot.tscn" id="2_knkn0"]
[ext_resource type="Script" uid="uid://cp17orsv0qrkx" path="res://gui/cardview/cardview.gd" id="3_x0uc3"]
[ext_resource type="Texture2D" uid="uid://cr0mhalnev753" path="res://gui/skipturn/skip.png" id="3_yhl0x"]
[ext_resource type="Texture2D" uid="uid://dnrk56uoohkir" path="res://cards/icons/1.png" id="4_2cqxi"]
[ext_resource type="Script" uid="uid://ckc57d5gyows8" path="res://gui/skipturn/skipturn.gd" id="4_at2w1"]
[ext_resource type="Texture2D" uid="uid://bfc6n1v8ej4t1" path="res://gui/cardview/use.png" id="4_ianyd"]
[ext_resource type="Texture2D" uid="uid://26mrxesutfle" path="res://gui/cardview/dont.png" id="5_knkn0"]
[ext_resource type="Script" uid="uid://cevw7iijqrqfo" path="res://gui/cardview/use.gd" id="5_yhl0x"]
[ext_resource type="Script" uid="uid://b0gvrvj6sa5jt" path="res://gui/cardview/dont.gd" id="7_yhl0x"]
[ext_resource type="Texture2D" uid="uid://733sl5vib0gb" path="res://gui/inventory/inventorybutton.png" id="12_wrbck"]
[ext_resource type="Texture2D" uid="uid://bm32bb3uayrvr" path="res://gui/inventory/inventory.png" id="14_3r5wm"]
[ext_resource type="Texture2D" uid="uid://ccwo5veg47f27" path="res://gui/inventory/cancel.png" id="15_3qwok"]
[ext_resource type="Script" uid="uid://do3mj3b4lmtsq" path="res://gui/inventory/inventory.gd" id="15_3r5wm"]
[ext_resource type="Script" uid="uid://c04bpd7p32ga8" path="res://gui/base_button.gd" id="15_mlrue"]
[ext_resource type="Texture2D" uid="uid://dv18ead3hl3d1" path="res://furniture/bed/bed.png" id="16_3qwok"]
[ext_resource type="Script" uid="uid://cltduubdh4k2e" path="res://rooms/furnitureslot.gd" id="17_15qan"]
[ext_resource type="Texture2D" uid="uid://ccxoqh8bypuxt" path="res://furniture/cupboard/cupboard.png" id="18_dsxex"]
[ext_resource type="Texture2D" uid="uid://usv22om4osb7" path="res://furniture/desk/desk.png" id="19_6b5hc"]
[ext_resource type="Texture2D" uid="uid://chww2321h5dqa" path="res://gui/inventory/start.png" id="21_6b5hc"]
[ext_resource type="Script" uid="uid://cnxh1olcic6bk" path="res://shooting/shooting_system.gd" id="22_shooting"]
[ext_resource type="Texture2D" uid="uid://b2t57t2xu758r" path="res://shooting/shoot_btn.png" id="23_tdyh2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2cqxi"]
size = Vector2(384, 304)

[node name="level" type="Node2D"]

[node name="background" type="Sprite2D" parent="."]
position = Vector2(581, 327)
texture = ExtResource("1_0dt1f")

[node name="leftstage" type="StaticBody2D" parent="."]
position = Vector2(211, 493)
metadata/_edit_group_ = true

[node name="collision" type="CollisionShape2D" parent="leftstage"]
shape = SubResource("RectangleShape2D_2cqxi")

[node name="buildsystem" type="Node2D" parent="."]

[node name="invetorybutton" type="TouchScreenButton" parent="buildsystem"]
position = Vector2(21, 17)
texture_normal = ExtResource("12_wrbck")
texture_pressed = ExtResource("12_wrbck")
script = ExtResource("15_mlrue")
metadata/_custom_type_script = "uid://c04bpd7p32ga8"

[node name="inventory" type="Sprite2D" parent="buildsystem"]
position = Vector2(221, -219)
texture = ExtResource("14_3r5wm")
script = ExtResource("15_3r5wm")

[node name="furnitureslot0" type="TouchScreenButton" parent="buildsystem/inventory"]
position = Vector2(-170, -161)
scale = Vector2(0.688, 0.66)
texture_normal = ExtResource("16_3qwok")
texture_pressed = ExtResource("16_3qwok")
script = ExtResource("17_15qan")
furniture_id = 1
amount = 3
metadata/_custom_type_script = "uid://c04bpd7p32ga8"
metadata/_edit_group_ = true

[node name="label" type="RichTextLabel" parent="buildsystem/inventory/furnitureslot0"]
anchors_preset = -1
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.636
offset_left = 2.2888184e-05
offset_top = -1.5258789e-05
offset_right = 1.4534912
offset_bottom = 30.321167
theme_override_font_sizes/normal_font_size = 20
text = "Name
Available: ?"

[node name="furnitureslot1" type="TouchScreenButton" parent="buildsystem/inventory"]
position = Vector2(-13.000002, -147)
scale = Vector2(0.688, 0.66)
texture_normal = ExtResource("18_dsxex")
texture_pressed = ExtResource("18_dsxex")
script = ExtResource("17_15qan")
furniture_id = 2
amount = 3
metadata/_custom_type_script = "uid://c04bpd7p32ga8"

[node name="label" type="RichTextLabel" parent="buildsystem/inventory/furnitureslot1"]
anchors_preset = -1
anchor_left = 0.029000001
anchor_top = 1.0
anchor_right = 1.044
anchor_bottom = 1.3640001
offset_left = 0.0069770813
offset_top = -1.5258789e-05
offset_right = -0.03955841
offset_bottom = -0.09094238
theme_override_font_sizes/normal_font_size = 20
text = "Name
Available: ?"

[node name="furnitureslot2" type="TouchScreenButton" parent="buildsystem/inventory"]
position = Vector2(-165, -50.000008)
scale = Vector2(0.688, 0.66)
texture_normal = ExtResource("19_6b5hc")
texture_pressed = ExtResource("19_6b5hc")
script = ExtResource("17_15qan")
furniture_id = 3
amount = 3
metadata/_custom_type_script = "uid://c04bpd7p32ga8"

[node name="label" type="RichTextLabel" parent="buildsystem/inventory/furnitureslot2"]
anchors_preset = -1
anchor_top = 1.0
anchor_right = 1.2210001
anchor_bottom = 2.069
offset_left = 2.2888184e-05
offset_top = -1.5258789e-05
offset_right = -0.006965637
offset_bottom = 0.011169434
theme_override_font_sizes/normal_font_size = 20
text = "Name
Available: ?"

[node name="cancel" type="TouchScreenButton" parent="buildsystem/inventory"]
position = Vector2(42, 144)
scale = Vector2(0.88, 0.76)
texture_normal = ExtResource("15_3qwok")
texture_pressed = ExtResource("15_3qwok")
script = ExtResource("15_mlrue")
metadata/_custom_type_script = "uid://c04bpd7p32ga8"

[node name="start" type="TouchScreenButton" parent="buildsystem"]
position = Vector2(493, 383)
texture_normal = ExtResource("21_6b5hc")
texture_pressed = ExtResource("21_6b5hc")
script = ExtResource("15_mlrue")
metadata/_custom_type_script = "uid://c04bpd7p32ga8"

[node name="cardsystem" type="Node2D" parent="."]
visible = false

[node name="cardslot0" parent="cardsystem" instance=ExtResource("2_knkn0")]
position = Vector2(89, 359)

[node name="cardslot1" parent="cardsystem" instance=ExtResource("2_knkn0")]
position = Vector2(232, 361)
slot_index = 1
card_id = 2

[node name="cardslot2" parent="cardsystem" instance=ExtResource("2_knkn0")]
position = Vector2(88, 476)
slot_index = 2
card_id = 3

[node name="cardslot3" parent="cardsystem" instance=ExtResource("2_knkn0")]
position = Vector2(231, 476)
slot_index = 3
card_id = 4

[node name="skipturn" type="TouchScreenButton" parent="cardsystem"]
position = Vector2(24, 287)
texture_normal = ExtResource("3_yhl0x")
texture_pressed = ExtResource("3_yhl0x")
script = ExtResource("4_at2w1")

[node name="cardview" type="Sprite2D" parent="cardsystem"]
position = Vector2(-69, 917)
texture = ExtResource("2_dg3qb")
script = ExtResource("3_x0uc3")
metadata/_edit_group_ = true

[node name="name" type="RichTextLabel" parent="cardsystem/cardview"]
offset_left = -185.0
offset_top = -235.0
offset_right = 41.0
offset_bottom = -190.0
theme_override_font_sizes/normal_font_size = 26
text = "Card name"

[node name="type" type="RichTextLabel" parent="cardsystem/cardview"]
offset_left = 93.0
offset_top = -242.0
offset_right = 198.0
offset_bottom = -195.0
theme_override_font_sizes/normal_font_size = 20
text = "card type"

[node name="icon" type="Sprite2D" parent="cardsystem/cardview"]
position = Vector2(-105, -62)
scale = Vector2(1.803125, 1.6874996)
texture = ExtResource("4_2cqxi")

[node name="description" type="RichTextLabel" parent="cardsystem/cardview"]
offset_top = -157.0
offset_right = 177.0
offset_bottom = 39.0
theme_override_font_sizes/normal_font_size = 20
text = "card description here: this is what this item does and its details."

[node name="cooldown" type="RichTextLabel" parent="cardsystem/cardview"]
offset_left = -123.0
offset_top = 80.0
offset_right = 112.0
offset_bottom = 115.0
theme_override_font_sizes/normal_font_size = 20
text = "Coold Down: X turns"

[node name="use" type="TouchScreenButton" parent="cardsystem/cardview"]
position = Vector2(-159.99997, 145)
scale = Vector2(1.41, 2.2333333)
texture_normal = ExtResource("4_ianyd")
texture_pressed = ExtResource("4_ianyd")
script = ExtResource("5_yhl0x")

[node name="dont" type="TouchScreenButton" parent="cardsystem/cardview"]
position = Vector2(13, 141)
scale = Vector2(1.5000004, 3.3500023)
texture_normal = ExtResource("5_knkn0")
texture_pressed = ExtResource("5_knkn0")
script = ExtResource("7_yhl0x")

[node name="shootingsystem" type="Node2D" parent="."]
script = ExtResource("22_shooting")

[node name="HScrollBar" type="HScrollBar" parent="shootingsystem"]
offset_left = 495.0
offset_top = 455.0
offset_right = 629.0
offset_bottom = 503.0
max_value = 360.0
step = 2.0

[node name="HScrollBar2" type="HScrollBar" parent="shootingsystem"]
offset_left = 494.0
offset_top = 515.0
offset_right = 628.0
offset_bottom = 563.0
step = 2.0

[node name="Line2D" type="Line2D" parent="shootingsystem"]
points = PackedVector2Array(400, 300, 500, 300)
width = 3.0
default_color = Color(1, 0, 0, 1)

[node name="Shoot" type="TouchScreenButton" parent="shootingsystem"]
position = Vector2(497, 581)
scale = Vector2(0.3375, 0.33734939)
texture_normal = ExtResource("23_tdyh2")
texture_pressed = ExtResource("23_tdyh2")

[connection signal="button_activated" from="buildsystem/invetorybutton" to="buildsystem/inventory" method="_on_invetorybutton_button_activated"]
[connection signal="furniture_picked" from="buildsystem/inventory/furnitureslot0" to="buildsystem/inventory" method="_on_furnitureslot_0_furniture_picked"]
[connection signal="furniture_picked" from="buildsystem/inventory/furnitureslot1" to="buildsystem/inventory" method="_on_furnitureslot_0_furniture_picked"]
[connection signal="furniture_picked" from="buildsystem/inventory/furnitureslot2" to="buildsystem/inventory" method="_on_furnitureslot_0_furniture_picked"]
[connection signal="button_activated" from="buildsystem/inventory/cancel" to="buildsystem/inventory" method="_on_cancel_button_activated"]
[connection signal="button_activated" from="buildsystem/start" to="buildsystem/inventory" method="_on_start_button_activated"]
[connection signal="button_activated" from="buildsystem/start" to="cardsystem/cardview" method="_on_start_button_activated"]
[connection signal="card_used" from="cardsystem/cardslot0" to="cardsystem/cardview" method="_on_cardslot_0_card_used"]
[connection signal="card_used" from="cardsystem/cardslot1" to="cardsystem/cardview" method="_on_cardslot_1_card_used"]
[connection signal="card_used" from="cardsystem/cardslot2" to="cardsystem/cardview" method="_on_cardslot_2_card_used"]
[connection signal="card_used" from="cardsystem/cardslot3" to="cardsystem/cardview" method="_on_cardslot_3_card_used"]
[connection signal="button_activated" from="cardsystem/skipturn" to="cardsystem/skipturn" method="_on_button_activated"]
[connection signal="skipturn" from="cardsystem/skipturn" to="cardsystem/cardview" method="_on_skipturn_skipturn"]
[connection signal="card_deployed" from="cardsystem/cardview" to="cardsystem/cardslot0" method="_on_cardview_card_deployed"]
[connection signal="card_deployed" from="cardsystem/cardview" to="cardsystem/cardslot1" method="_on_cardview_card_deployed"]
[connection signal="card_deployed" from="cardsystem/cardview" to="cardsystem/cardslot2" method="_on_cardview_card_deployed"]
[connection signal="card_deployed" from="cardsystem/cardview" to="cardsystem/cardslot3" method="_on_cardview_card_deployed"]
[connection signal="card_deployed" from="cardsystem/cardview" to="shootingsystem" method="_on_card_deployed"]
[connection signal="button_activated" from="cardsystem/cardview/use" to="cardsystem/cardview" method="_on_use_button_activated"]
[connection signal="button_activated" from="cardsystem/cardview/dont" to="cardsystem/cardview" method="_on_dont_button_activated"]
[connection signal="pressed" from="shootingsystem/Shoot" to="shootingsystem" method="_on_shoot_button_pressed"]
[connection signal="value_changed" from="shootingsystem/HScrollBar" to="shootingsystem" method="_on_rotation_changed"]
[connection signal="value_changed" from="shootingsystem/HScrollBar2" to="shootingsystem" method="_on_power_changed"]
